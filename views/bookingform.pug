extends layout

block content
  h1= title
  p Welcome to #{title}
  each vehicle in vehicles
      div.container
        form
          .form-group
            label(for='name') Name
            input.form-control(type='text' value=event.name)
          .form-group
            label(for='date') Date Selected
            input.form-control(type='text' value=event.day)
          .form-group
            label(for='hour') Time Selected
            input.form-control(type='text' value=event.time)
          .form-group
            label(for='model') Select a car
            select.custom-select
              option(value='#{vehicle.model}') #{vehicle.model}
          .form-group
            label(for='destination') 
            input#autocomplete.form-control(placeholder='Enter your address', type='text', onclick='initAutocomplete()')
            a.btn.btn-secondary#btnMap(href="", target="_blank") See Map

  //- script(src='app.js')
  

  script(async='false', type='text/javascript', src='https://maps.googleapis.com/maps/api/js?key=AIzaSyADkOAOJTkULh2P8xWk-5bsDfACm8ov7N0&libraries=places')
  script.
    let placeSearch, autocomplete;
    const autocompleteInput = document.getElementById('autocomplete');

    function initAutocomplete() {
        console.log('eo')
        autocomplete = new google.maps.places.Autocomplete(
            (autocompleteInput),
            {types: ['geocode']}
        );   
        
        autocomplete.addListener('place_changed', () => {
            const url = autocomplete.getPlace().url;
            console.log('new locat', url)
            document.getElementById("btnMap").href=url; 
        })
    }




